#!/usr/bin/env python3
"""
Script para resolver problema de banco de dados no Amazon Linux 2023
"""

print('ğŸ—„ï¸ RESOLVENDO PROBLEMA DE BANCO NO AMAZON LINUX 2023')
print('=' * 60)

print('âŒ PROBLEMA IDENTIFICADO:')
print('   No match for argument: mariadb-server')
print()
print('ğŸ’¡ EXPLICAÃ‡ÃƒO:')
print('   No Amazon Linux 2023, nem MySQL nem MariaDB estÃ£o nos repositÃ³rios padrÃ£o')
print('   Precisa habilitar repositÃ³rios extras ou usar SQLite')
print()

print('âœ… SOLUÃ‡ÃƒO 1: HABILITAR REPOSITÃ“RIOS EXTRAS')
print('=' * 50)
print('ğŸ”§ COMANDOS PARA HABILITAR REPOSITÃ“RIOS:')
print()
print('1. ğŸ“¦ Habilitar repositÃ³rio EPEL:')
print('   sudo yum install epel-release -y')
print()
print('2. ğŸ“¦ Habilitar repositÃ³rio Amazon Linux Extras:')
print('   sudo amazon-linux-extras install mariadb10.5 -y')
print()
print('3. ğŸš€ Iniciar MariaDB:')
print('   sudo systemctl start mariadb')
print('   sudo systemctl enable mariadb')
print()
print('4. ğŸ”§ Configurar MariaDB:')
print('   sudo mysql_secure_installation')
print()
print('5. ğŸ—„ï¸ Criar banco de dados:')
print('   sudo mysql -u root -p')
print('   # Comandos SQL normais')
print()

print('âœ… SOLUÃ‡ÃƒO 2: USAR SQLITE (MAIS SIMPLES)')
print('=' * 50)
print('ğŸ”§ VANTAGENS DO SQLITE:')
print('   - âœ… JÃ¡ vem instalado')
print('   - âœ… NÃ£o precisa configuraÃ§Ã£o')
print('   - âœ… Funciona imediatamente')
print('   - âœ… Arquivo Ãºnico de banco')
print('   - âœ… Perfeito para desenvolvimento')
print()
print('ğŸ”§ MODIFICAR DATABASE.PY:')
print('   1. ğŸ“ Editar database.py')
print('   2. ğŸ”„ Trocar MySQL por SQLite')
print('   3. âœ… Funciona sem configuraÃ§Ã£o')
print()

print('ğŸ¯ COMANDOS PARA SQLITE:')
print('=' * 40)
print('# 1. Verificar se SQLite estÃ¡ instalado')
print('sqlite3 --version')
print()
print('# 2. Criar banco de dados')
print('sqlite3 sistema_ml.db')
print()
print('# 3. Testar SQLite')
print('sqlite3 sistema_ml.db "SELECT 1;"')
print()

print('ğŸš¨ SOLUÃ‡ÃƒO 3: USAR DOCKER')
print('=' * 50)
print('ğŸ’¡ DICA: Se nada funcionar, use Docker:')
print()
print('1. ğŸ“¦ Instalar Docker:')
print('   sudo yum install docker -y')
print('   sudo systemctl start docker')
print('   sudo systemctl enable docker')
print()
print('2. ğŸ³ Executar MySQL no Docker:')
print('   sudo docker run -d --name mysql-db \\')
print('     -e MYSQL_ROOT_PASSWORD=2154 \\')
print('     -e MYSQL_DATABASE=sistema_ml \\')
print('     -e MYSQL_USER=admin \\')
print('     -e MYSQL_PASSWORD=2154 \\')
print('     -p 3306:3306 mysql:8.0')
print()
print('3. âœ… MySQL funcionando no Docker')
print()

print('ğŸ¯ RECOMENDAÃ‡ÃƒO: USAR SQLITE')
print('=' * 50)
print('ğŸ’¡ POR QUE SQLITE Ã‰ MELHOR:')
print('   - âœ… Zero configuraÃ§Ã£o')
print('   - âœ… Funciona imediatamente')
print('   - âœ… NÃ£o precisa de serviÃ§os')
print('   - âœ… Arquivo Ãºnico')
print('   - âœ… Perfeito para AWS')
print('   - âœ… Backup automÃ¡tico')
print()

print('ğŸ”§ MODIFICAR DATABASE.PY PARA SQLITE:')
print('=' * 50)
print('1. ğŸ“ Editar database.py')
print('2. ğŸ”„ Trocar mysql.connector por sqlite3')
print('3. ğŸ”„ Modificar string de conexÃ£o')
print('4. âœ… Funciona sem configuraÃ§Ã£o')
print()

print('ğŸ¯ RESUMO:')
print('=' * 30)
print('âœ… Problema: Nem MySQL nem MariaDB disponÃ­veis')
print('âœ… SoluÃ§Ã£o 1: Habilitar repositÃ³rios extras')
print('âœ… SoluÃ§Ã£o 2: Usar SQLite (recomendado)')
print('âœ… SoluÃ§Ã£o 3: Usar Docker')
print('âœ… RecomendaÃ§Ã£o: SQLite Ã© mais simples')
print()

print('ğŸš€ PRÃ“XIMOS PASSOS:')
print('=' * 30)
print('1. ğŸ”§ Tentar habilitar repositÃ³rios extras')
print('2. ğŸ—„ï¸ Se nÃ£o funcionar, usar SQLite')
print('3. ğŸš€ Reiniciar aplicaÃ§Ã£o')
print('4. âœ… Verificar status')
print('5. ğŸŒ Testar aplicaÃ§Ã£o')
print()

print('ğŸ‰ APÃ“S CORRIGIR:')
print('=' * 30)
print('âœ… Banco de dados: funcionando')
print('âœ… Flask-app: active (running)')
print('âœ… Nginx: active (running)')
print('âœ… AplicaÃ§Ã£o: http://SEU_IP_PUBLICO')
print()

print('ğŸš€ SUA APLICAÃ‡ÃƒO ESTARÃ FUNCIONANDO!')
print('SQLite Ã© uma excelente escolha para AWS!')
