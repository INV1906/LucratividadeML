#!/usr/bin/env python3
"""
Script para verificar IPs do EC2
"""

print('ğŸ” VERIFICANDO IPs DO EC2')
print('=' * 40)

print('ğŸ“‹ COMANDOS PARA EXECUTAR NO EC2:')
print('=' * 40)
print()
print('1. ğŸŒ IP PÃºblico:')
print('   curl -s http://169.254.169.254/latest/meta-data/public-ipv4')
print()
print('2. ğŸ  IP Privado:')
print('   curl -s http://169.254.169.254/latest/meta-data/local-ipv4')
print()
print('3. ğŸ” IP da Subnet:')
print('   curl -s http://169.254.169.254/latest/meta-data/network/interfaces/macs/*/subnet-ipv4-cidr-block')
print()

print('ğŸ¯ CONFIGURAÃ‡ÃƒO DO SECURITY GROUP:')
print('=' * 50)
print('ğŸ“‹ REGRA RECOMENDADA:')
print('   Type: MySQL/Aurora')
print('   Protocol: TCP')
print('   Port: 3306')
print('   Source: [IP_PRIVADO_DO_EC2]/32')
print()
print('ğŸ’¡ EXEMPLO:')
print('   Se o IP privado for 172.31.4.248')
print('   Use: 172.31.4.248/32')
print()

print('ğŸ”§ PASSOS NO AWS CONSOLE:')
print('=' * 40)
print('1. ğŸŒ Acessar: https://console.aws.amazon.com')
print('2. ğŸ” Navegar: Services â†’ RDS â†’ Databases')
print('3. ğŸ“‹ Selecionar: mercadolivre-db')
print('4. ğŸ”’ Ir para: Connectivity & security â†’ VPC security groups')
print('5. âš™ï¸ Editar: Actions â†’ Edit inbound rules')
print('6. â• Adicionar regra com os dados acima')
print('7. ğŸ’¾ Salvar: Save rules')
print()

print('â±ï¸ TEMPO DE PROPAGAÃ‡ÃƒO:')
print('=' * 30)
print('â° Security Group: 1-2 minutos')
print('â° Total: 2-3 minutos')
print()

print('ğŸ§ª APÃ“S CONFIGURAR:')
print('=' * 30)
print('1. â³ Aguardar 2-3 minutos')
print('2. ğŸ§ª Testar conexÃ£o:')
print('   python3.11 test_rds_connection.py')
print('3. ğŸ—„ï¸ Criar banco:')
print('   python3.11 create_database.py')
print()

print('ğŸš¨ IMPORTANTE:')
print('=' * 20)
print('âœ… Use o IP PRIVADO do EC2')
print('âœ… Formato: IP/32')
print('âœ… Exemplo: 172.31.4.248/32')
print('âœ… Aguarde 2-3 minutos apÃ³s configurar')
print()

print('ğŸš€ EXECUTE OS COMANDOS NO EC2 E CONFIGURE O SECURITY GROUP!')
